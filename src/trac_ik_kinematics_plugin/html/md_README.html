<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This package provides is a MoveIt! kinematics plugin that replaces the KDL IK solver with the TRAC-IK solver. Currently mimic joints are <em>not</em> supported.</p>
<h3>As of v1.4.3, this package is part of the ROS Indigo/Jade binaries: <code>sudo apt-get install ros-jade-trac-ik-kinematics-plugin</code></h3>
<p>To use:</p>
<ul>
<li>Add this package and trac_ik_lib package to your catkin workspace.</li>
<li>Find the MoveIt! <a href="http://docs.ros.org/indigo/api/pr2_moveit_tutorials/html/kinematics/src/doc/kinematics_configuration.html">kinematics.yaml</a> file created for your robot.</li>
<li>Replace <code>kinematics_solver: kdl_kinematics_plugin/KDLKinematicsPlugin</code> (or similar) with <code>kinematics_solver: trac_ik_kinematics_plugin/TRAC_IKKinematicsPlugin</code></li>
<li>Set parameters as desired:<ul>
<li><em>kinematics_solver_timeout</em> (timeout in seconds, e.g., 0.005) and <em>position_only_ik</em> <b>ARE</b> supported.</li>
<li><em>solve_type</em> can be Speed, Distance, Manipulation1, Manipulation2 (see trac_ik_lib documentation for details). Default is Speed.</li>
<li><em>kinematics_solver_attempts</em> parameter is unneeded: unlike KDL, TRAC-IK solver already restarts when it gets stuck</li>
<li><em>kinematics_solver_search_resolution</em> is not applicable here.</li>
<li>Note: The Cartesian error distance used to determine a valid solution is <em>1e-5</em>, as that is what is hard-coded into MoveIt's KDL plugin.</li>
</ul>
</li>
</ul>
<h3>NOTE: My understanding of how MoveIt! works from user experience and looking at the source code (though I am NOT a MoveIt! developer):</h3>
<p>For normal operations, MoveIt! only really calls an IK solver for one pose (maybe multiple times if the first result is invalid due to self collisions or the like). This IK solution provides a joint configuration for the goal. MoveIt! already knows the <em>current</em> joint configuration from encoder info. All planning at that point is done in <em>JOINT SPACE</em>. Collision detection and constraint checking may use Forward Kinematics to determine the pose of any subgoal joint configuration, but the planning <em>IS NOT</em> being done in Cartesian space. After a joint trajectory is found, MoveIt! tries to smooth the trajectory to make it less "crazy looking", but this does not always result in a path that is pleasing to human users.</p>
<p>If you don't have obstacles in your space, you may want to try the Cartesian planning API in MoveIt! to get "straight-line" motion. MoveIt's Cartesian planner <em>IS</em> "planning" in Cartesian space (doing lots of IK calls). Though really it is just performing linear interpolation in x,y,z,roll,pitch,yaw between the current and desired poses &ndash; it isn't really "searching" for a solution. That is, MoveIt's Cartesian capability is not doing collision avoidance or replanning &ndash; if a collision is detected, the linear interpolation "planning" immediately stops. Unfortunately, in MoveIt! this scenario still returns <em>True</em> that a trajectory was found. This is not ideal, and needs to be fixed &ndash; I may write a new Cartesian capability plugin for MoveIt! that addresses this, but that would be outside the scope of Inverse Kinematics. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 27 2017 00:29:30 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
